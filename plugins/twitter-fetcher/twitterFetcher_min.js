(function(b){var f;format_date=function(a){a=(new Date-new Date(a))/1E3/60/60;return a<1?(a=Math.round(a*60),a<1?"just now":a==1?"1 minute ago":a+" minutes ago"):a<24?(a=Math.round(a),a==1?"1 hour ago":+a+" hours ago"):(a=Math.round(a/24),a==1?"1 day ago":a+" days ago")};var c={limit:10,profile_name:!0,profile_screen_name:!1,profile_image:!0,user:null,list:null,show_time:!0,format_date_callback:format_date},i=function(a){a=a.replace(/(http[s]?.\S*)/gi,'<a href="$1">$1</a>');a=a.replace(/#(.[^\s,]*)/g,
'#<a href="http://twitter.com/search?q=%23$1">$1</a>');return a=a.replace(/@(.[a-z0-9-_]*)/gi,'@<a href="http://twitter.com/$1">$1</a>')},h=function(a){for(var e in a){var d=b("<li>");c.profile_name&&d.append(b("<span>").text(a[e].user.name));c.profile_screen_name&&d.append(b("<span>").text("@"+a[e].user.screen_name));c.profile_image&&d.append(b("<img>").attr("src",a[e].user.profile_image_url));d.append(b("<p>").html(i(a[e].text)));c.show_time&&d.append(b("<span>").addClass("date").text(c.format_date_callback(a[e].created_at)));
f.removeClass("loading").find("ul").append(d)}},g={init:function(a){b.extend(c,a);f=b(this[0]);f.twitter_fetcher("update")},update:function(){c.user||b.error("User is a mandatory option.");f.empty().addClass("loading").append(b("<ul>"));c.list?b.getJSON("https://api.twitter.com/1/lists/statuses.json?callback=?",{slug:c.list,owner_screen_name:c.user,count:c.limit},h):b.getJSON("https://api.twitter.com/1/statuses/user_timeline.json?callback=?",{screen_name:c.user,count:c.limit},h)}};b.fn.twitter_fetcher=
function(a){if(g[a])return g[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==="object"||!a)return g.init.apply(this,arguments);else b.error("Method "+a+" does not exist on jQuery.twitter.fetcher")}})(jQuery);
